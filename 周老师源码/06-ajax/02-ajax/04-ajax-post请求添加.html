<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>

<body>

  <button>post请求</button>
  <script>
    var btn_post = document.querySelector('button');
    btn_post.addEventListener('click', function (e) {

      // 1 创建XMLHttpRequest
      var xhr = new XMLHttpRequest();
      // 2 添加请求状态改变的 回调函数
      xhr.onreadystatechange = function () {
        //6判断请求状态和响应状态码
        if (xhr.readyState == 4) {
          if (xhr.status >= 200 && xhr.status < 300 || xhr.status == 304) {
            // 7 请求成功的处理, 获取响应信息
            console.log(xhr.responseText);
          }
        }
      }
      //3 打开连接, 设置请求方式和URL
      xhr.open('POST', 'http://localhost:3008/api/student/addStudent')


      // // 4 设置请求数据格式  窗体格式或者表单格式
      // xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

      // // 5 发送请求和数据
      // // 表单数据或者窗体数据
      // // clazz班级 name 姓名  gender 性别 age 年龄 tel 电话 hobby 爱好 address 地址信息 remark 备注信息
      // var data = "clazz=火花226&name=李鹏&gender=男&age=21&tel=10010&hobby=iphone14&address=南阳"
      // xhr.send(data);

      // 4 设置请求数据格式  JSON数据
      xhr.setRequestHeader('Content-Type', 'application/json');

      // JS对象
      var data = {
        clazz: '火花226',
        name: '艾志杰',
        gender: '男',
        age: 21,
        tel: '10010',
        hobby: 'iphone14',
        address: '南阳'
      }
      // 5 发送请求和数据,  JS对象转为JSON字符串
      xhr.send(JSON.stringify(data))
    })
  </script>
</body>

</html>